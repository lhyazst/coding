<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zeus.dao.OrcMapper" >

<sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 14 17:37:41 CST 2019.
    -->
    id, orc_number, create_time, update_time, user_id, status, recycle_user_id, orc_url,
    site_name,site_name,site_id,orc_type
</sql>
  <insert id="insert" parameterType="com.zeus.entity.Orc" >
    insert into orc ( id,orc_number, create_time,
    update_time, user_id, status,
    recycle_user_id, orc_url,site_name,site_id)
    values (#{id,jdbcType=BIGINT}, #{orcNumber,jdbcType=BIGINT}, #{createTime,jdbcType=TIMESTAMP},
    #{updateTime,jdbcType=TIMESTAMP}, #{userId,jdbcType=BIGINT}, #{status,jdbcType=VARCHAR},
    #{recycleUserId,jdbcType=BIGINT}, #{orcUrl,jdbcType=VARCHAR}),#{siteName,jdbcType=VARCHAR},#{siteId,jdbcType=BIGINT}
    ,#{orcType,jdbcType=VARCHAR}
  </insert>


    <select id="selectOrcNumber" parameterType="java.lang.Long" resultType="com.zeus.entity.Orc">
        select
        <include refid="Base_Column_List"/>
        from orc where  orc_number= #{num,jdbcType=INTEGER} and user_id= #{userId,jdbcType=INTEGER}

    </select>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultType="com.zeus.entity.Orc">
        select
        <include refid="Base_Column_List"/>
        from orc where  id = #{id,jdbcType=BIGINT} and status ="1"

    </select>

    <select id="selectusers" parameterType="java.lang.Long" resultType="com.zeus.entity.Orc">
        select
        <include refid="Base_Column_List"/>
        from orc where  recycle_user_id = #{userid,jdbcType=BIGINT} and status ="1" AND orc_type=1

    </select>

    <select id="selectusersDate"  resultType="com.zeus.entity.Orc">
        select
        <include refid="Base_Column_List"/>
        from orc where  recycle_user_id = #{userid,jdbcType=BIGINT} and status ="1" and
        date(update_time)=#{date,jdbcType=VARCHAR} AND orc_type= 1

    </select>


    <update id="updatestatus" parameterType="java.lang.Long" >

        update orc
        set
        status = "1",
        recycle_user_id = #{userid,jdbcType=BIGINT}
        update_time=#{date,jdbcType=VARCHAR}
        where id=#{id,jdbcType=BIGINT}

    </update>

    <update id="updateBinStatus" parameterType="java.lang.Long" >

        update orc
        set
        status = "1"
        where id=#{id,jdbcType=BIGINT}

    </update>
    <update id="updateworkUsersStatus" parameterType="java.lang.Long" >

        update orc
        set
        status = "2"
        where id=#{id,jdbcType=BIGINT}

    </update>

</mapper>